{"version":3,"file":"reactions.js","sources":["../../../db/models/reactions.ts"],"sourcesContent":["import { Schema, model, Document, ObjectId, Types } from \"mongoose\";\n\nexport interface IReaction extends Document {\n  reactionId: ObjectId;\n  reactionBody: string;\n  username: string;\n  createdAt: Date | string;\n}\n\nconst reactionSchema = new Schema<IReaction>(\n  {\n    reactionId: {\n      type: Types.ObjectId,\n      required: true,\n      default: new Types.ObjectId(),\n      primaryKey: true,\n    },\n    reactionBody: {\n      type: String,\n      required: true,\n      minlength: 1,\n      maxlength: 280,\n    },\n    username: {\n      type: String,\n      required: true,\n    },\n    createdAt: {\n      type: Date,\n      default: Date.now(),\n      get: (createdAt: Date) => createdAt.toLocaleDateString(),\n    },\n  },\n  {\n    id: false,\n    toJSON: {\n      getters: true,\n      transform: (doc, ret) => {\n        ret.reactionId = doc._id;\n        delete ret._id;\n        return ret;\n      },\n    },\n  }\n);\n\n// Create the reaction model\nconst Reaction = model<IReaction>(\"Reaction\", reactionSchema);\n\nexport default Reaction;\n"],"names":[],"mappings":";;AASA,MAAM,cAAc,GAAG,IAAI,MAAM,CAC/B;AACE,IAAA,UAAU,EAAE;QACV,IAAI,EAAE,KAAK,CAAC,QAAQ;AACpB,QAAA,QAAQ,EAAE,IAAI;AACd,QAAA,OAAO,EAAE,IAAI,KAAK,CAAC,QAAQ,EAAE;AAC7B,QAAA,UAAU,EAAE,IAAI;AACjB,KAAA;AACD,IAAA,YAAY,EAAE;AACZ,QAAA,IAAI,EAAE,MAAM;AACZ,QAAA,QAAQ,EAAE,IAAI;AACd,QAAA,SAAS,EAAE,CAAC;AACZ,QAAA,SAAS,EAAE,GAAG;AACf,KAAA;AACD,IAAA,QAAQ,EAAE;AACR,QAAA,IAAI,EAAE,MAAM;AACZ,QAAA,QAAQ,EAAE,IAAI;AACf,KAAA;AACD,IAAA,SAAS,EAAE;AACT,QAAA,IAAI,EAAE,IAAI;AACV,QAAA,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;QACnB,GAAG,EAAE,CAAC,SAAe,KAAK,SAAS,CAAC,kBAAkB,EAAE;AACzD,KAAA;CACF,EACD;AACE,IAAA,EAAE,EAAE,KAAK;AACT,IAAA,MAAM,EAAE;AACN,QAAA,OAAO,EAAE,IAAI;AACb,QAAA,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,KAAI;AACtB,YAAA,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC;YACzB,OAAO,GAAG,CAAC,GAAG,CAAC;AACf,YAAA,OAAO,GAAG,CAAC;SACZ;AACF,KAAA;AACF,CAAA,CACF,CAAC;AAEF;AACM,MAAA,QAAQ,GAAG,KAAK,CAAY,UAAU,EAAE,cAAc;;;;"}